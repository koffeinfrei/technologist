# These template rules can be reused as yml aliases
# to dry up the common rules.
# The placeholder `%{name}` gets replaced by the
# downcased framework name.
template_rules:
  # rule that checks for a gem with
  # the same name as the framework
  gem_rule: &gem_rule
    Gemfile: ^\s*gem '%{name}'

# Here be the framework definitions

Rails:
  rules:
    - <<: *gem_rule

Locomotive:
  rules:
    - Gemfile: ^\s*gem 'locomotivecms_wagon'
  primary: Rails

Magnolia:
  rules:
    - pom.xml: <magnoliaVersion>

Sinatra:
  rules:
    - <<: *gem_rule
    - config.ru: run Sinatra::Application

Dashing:
  rules:
    - <<: *gem_rule
  primary: Sinatra

Middleman:
  rules:
    - <<: *gem_rule
